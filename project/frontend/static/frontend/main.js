axios.defaults.xsrfHeaderName="X-CSRFTOKEN",axios.defaults.xsrfCookieName="csrftoken",document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("calendar"),t=new FullCalendar.Calendar(e,{initialView:"listWeek",selectable:!0,select:function(e){const a=prompt("イベントを入力してください");a&&axios.post("add/",{start_date:e.start.valueOf(),end_date:e.end.valueOf(),event_name:a}).then((()=>{t.addEvent({title:a,start:e.start,end:e.end,allDay:!0})})).catch((()=>{alert("登録に失敗しました")}))},events:function(e,a,n){axios.post("list/",{start_date:e.start.valueOf(),end_date:e.end.valueOf()}).then((e=>{t.removeAllEvents(),a(e.data)})).catch((()=>{alert("登録に失敗しました")}))}});t.render()}));