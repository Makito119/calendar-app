axios.defaults.xsrfHeaderName="X-CSRFTOKEN",axios.defaults.xsrfCookieName="csrftoken",document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("calendar");window.onload=function(){const e=document.getElementById("username"),t=document.getElementById("sendbutton");e.addEventListener("keyup",(function(){const a=e.value;console.log(a),t.className=a?null:"hidden"}))};var t=new FullCalendar.Calendar(e,{initialView:"timeGridWeek",fisrtDay:5,editable:!0,selectable:!0,headerToolbar:{left:"prev,next,today",center:"title",right:"timeGridWeek,dayGridMonth"},views:{timeGridWeek:{slotMinTime:"09:00:00",slotMaxTime:"24:00:00"}},timeZone:"Asia/Tokyo",eventColor:"#ff8c00",locale:"ja",navLinks:!0,select:function(e){const a=prompt("イベントを入力してください");a&&axios.post("add/",{start_date:e.start.valueOf(),end_date:e.end.valueOf(),event_name:a}).then((()=>{t.addEvent({title:a,start:e.start,end:e.end,allDay:!0})})).catch((()=>{alert("登録に失敗しました")}))},events:function(e,a,n){axios.post("list/",{start_date:e.start.valueOf(),end_date:e.end.valueOf()}).then((e=>{t.removeAllEvents(),a(e.data)})).catch((()=>{alert("登録に失敗しました")}))}});t.render()}));